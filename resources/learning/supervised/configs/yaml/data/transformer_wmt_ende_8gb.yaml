data:
  make_inputs:
    _target_: "trax.data.make_inputs"
    _partial_: true
    train_stream:
      - "${data.train.TFDS}"
      - "${data.WMTPreprocess}"
      - "${data.Shuffle}"
      - "${data.train.BucketByLength}"
      - "${data.AddLossWeights}"
    eval_stream:
      - "${data.eval.TFDS}"
      - "${data.WMTPreprocess}"
      - "${data.eval.BucketByLength}"
      - "${data.AddLossWeights}"
  train:
    TFDS:
      _target_: "trax.data.TFDS"
      dataset_name: "t2t_translate_ende_wmt32k"
      data_dir: null
    BucketByLength:
      _target_: "trax.data.BucketByLength"
      boundaries:
      - 8
      - 16
      - 32
      - 64
      - 128
      - 256
      - 512
      batch_sizes:
      - 128
      - 64
      - 32
      - 16
      - 8
      - 4
      - 2
      - 1
      length_keys:
        - 0
        - 1
  eval:
    TFDS:
      _target_: "trax.data.TFDS"
      dataset_name: "t2t_translate_ende_wmt32k"
      data_dir: null
      train: false
    BucketByLength:
      _target_: "trax.data.BucketByLength"
      boundaries:
      - 8
      - 16
      - 32
      - 64
      - 128
      - 256
      - 512
      batch_sizes:
      - 64
      - 32
      - 16
      - 8
      - 4
      - 2
      - 1
      - 1
      length_keys:
        - 0
        - 1
  WMTPreprocess:
    _target_: "trax.data.WMTPreprocess"
    _partial_: true
    max_length: 512
    max_eval_length: 1024
  Shuffle:
    _target_: "trax.data.Shuffle"
  AddLossWeights:
    _target_: "trax.data.AddLossWeights"
    id_to_mask: 0
